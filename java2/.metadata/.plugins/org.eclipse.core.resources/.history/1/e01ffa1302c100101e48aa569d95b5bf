package chap9_ex1;

public class Blanket {
	private String size;
	private String color;
	private String material;
	private double price;
	
	private static final double base_price = 30.00;
    private static final double double_price = 10.00;
    private static final double queen_price = 25.00;
    private static final double king_price = 40.00;
    private static final double wool_price = 20.00;
    private static final double cashmere_price = 45.00;
	
    public Blanket() {
        resetToDefaults();
    }

    private void resetToDefaults() {
        this.size = "Twin";
        this.color = "white";
        this.material = "cotton";
        this.price = base_price;
    }
	
	public void setSize(String size) {
		if (size.equalsIgnoreCase("Twin") ||
	            size.equalsIgnoreCase("Double") ||
	            size.equalsIgnoreCase("Queen") ||
	            size.equalsIgnoreCase("King")) {
	            
	            this.size = size;
	            updatePrice();
	        } else {
	            resetToDefaults();
	        }
	}
	
	public void setMaterial(String material) {
        if (material.equalsIgnoreCase("cotton") ||
            material.equalsIgnoreCase("wool") ||
            material.equalsIgnoreCase("cashmere")) {
            
            this.material = material;
            this.updatePrice();
        } else {
            this.resetToDefaults();
        }
    }
	
	public void setColor(String color) {
		this.color = color;
	}
	
	private void updatePrice() {
        double newPrice = base_price;

        if (this.size.equalsIgnoreCase("Double")) {
            newPrice += double_price;
        } else if (this.size.equalsIgnoreCase("Queen")) {
            newPrice += queen_price;
        } else if (this.size.equalsIgnoreCase("King")) {
            newPrice += king_price;
        }

        if (this.material.equalsIgnoreCase("wool")) {
            newPrice += wool_price;
        } else if (this.material.equalsIgnoreCase("cashmere")) {
            newPrice += cashmere_price;
        }

        this.price = newPrice;
    }
	
	@Override
    public String toString() {
        return "Chi tiết chăn:\n" +
               "\tKích thước:  " + this.size + "\n" +
               "\tMàu sắc:     " + this.color + "\n" +
               "\tChất liệu: " + this.material + "\n" +
               "\tGiá:         " + this.price; 
    }

	public String getSize() {
        return size;
    }

    public String getColor() {
        return color;
    }
}
